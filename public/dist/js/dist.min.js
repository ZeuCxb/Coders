angular.module("coders",["ngRoute"]),angular.module("coders").config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/home.html"}),e.when("/teste",{templateUrl:"views/teste.html"}).otherwise({redirectTo:"/"})}]),angular.module("coders").run(["$rootScope",function(e){return e.$on("connect",function(r,o){return e.$broadcast("connected",o)})}]),angular.module("coders").controller("appCtrl",["codersApi","$location","$window","$scope",function(e,r,o,n){var t,c;c=this,t=function(){return e.connect().then(function(e){return c.user=e.data,n.$emit("connect",c.user)},function(){return c.user={}})},c.logOn=function(){var r;return c.logonUser?(r=c.logonUser,delete r.cpass,r.email=r.email.toLowerCase(),r.name=r.name.toLowerCase(),r.nick=r.nick.toLowerCase(),e.logon(r).then(function(e){return o.location.reload()},function(e){var r,n;if("error"===e.status){if(!e.data)return o.location.reload();if(r=e.data.errmsg.search("email"),n=e.data.errmsg.search("nick"),c.error={},r>0&&(c.error.email=!0),n>0)return c.error.nick=!0}})):void 0},c.logIn=function(){var r;return c.loginUser?(r=c.loginUser,r.login=r.login.toLowerCase(),e.login(r).then(function(e){return o.location.reload()},function(e){return c.error={},console.log(e),c.error.login=!0,c.error.pass=!0})):void 0},c.logOut=function(){return c.user?e.logout().then(function(){return o.location.reload()}):void 0},t()}]),angular.module("coders").controller("titleCtrl",["$scope",function(e){var r;r=this,r.title="CSC - A Social Community to learn, teach and grow up.",e.$on("connected",function(e,o){return o?r.title="CSC - "+o.nick:void 0})}]),angular.module("coders").factory("codersApi",["$q","$http",function(e,r){var o,n,t,c,i,u,l,s,a;return u="http://localhost:5000/",s=u+"register",l=u+"login",a=u+"logout",o=function(){var o;return o=e.defer(),r.get(l).success(o.resolve).error(o.reject),o.promise},n=function(e){return'{"user": '+JSON.stringify(e)+"}"},c=function(o){var t;return t=e.defer(),o=n(o),r.post(s,o).success(t.resolve).error(t.reject),t.promise},t=function(o){var t;return t=e.defer(),o=n(o),r.post(l,o).success(t.resolve).error(t.reject),t.promise},i=function(){var o;return o=e.defer(),r.get(a).success(o.resolve).error(o.reject),o.promise},{logon:c,login:t,connect:o,logout:i}}]),angular.module("csView",[]);